#Creating a MISSQL Command Level

##Attributes Of A Level:
	- stage_number (integer): The ordinal number of the level, independent from its id. Used for ordering/labelling levels in the interface.
	- title (string): The display title of the level. Should be short and punchy, max 50 characters.
	- prompt (text): A short, direct description of the goal of the lesson. Max 150 characters. HTML formatting allowed.
	- database_path (string): Path to the database dump for this level. Path can be absolute, or relative to the root directory of the app. Dumps are generally stored in db/dumps.
	- answer (text): Used by "read" type levels to check the correctness of a result set. Should be empty for non-read levels. Generated by getting a correct pg result object in the rails console, then calling .to_a.to_s on it.
	- type (string): Used by execute to switch both answer checking and output generating logic. The types are:
		* read: Used for SELECT and JOIN levels.
		* drop: Used for DROP TABLE levels.
		* insert: Used for INSERT
		* update: Used for UPDATE levels
		* alter: Used for ALTER TABLE levels
		* delete: Used for DELETE levels
	- correct_query*: This attribute is only stored in a level's YML file. It provides the canonically correct query for that level for use in development and testing.

##Relationships of a Level:
The relationships marked with a * must be defined in the level's YML.
A level:
	- has_many level_pages*
	- has_many level_tests*
	- has_many level_schemas*
	- has_many user_databases

###Level Pages:
Each level page is a pane of instructional text for the level. Level pages are HTML formatted. Each block of text (1-2 sentences or a code block) should be wrapped with a `<p>` tag. Inline code should be wrapped with `<code>`. Code blocks should be wrapped with `<pre><code>`. SQL terms should be formatted as inline code. SQL terms should be italicized using `<em>` tags. Placholder text like `table_name` or `column_name` in code blocks should also be italicized. A page can have an arbitrary ammount of text, but 5-6 paragraphs or 450 characters is ideal.

For each level page you will need the following in the YML:
	- page_number: integer
	- content: html formatted text, surrounded in double quotes. Double quotes inside content must be escaped.

###Level Tests:
Level tests are used by non-read type levels to assess the state of the user_db after each query. Each one is essentially a hash with a query, an expected result, and a message to send back if the results don't match.

For each level test you will need the following in the YML:
	- test_query: string
	- expected_output: string (string representation of the array format of a PG result object).
	- error_message: string

##Level Schema:
For every table in a level's dump, a level schema object should be registered on the level. The level schema itself only stores the name of the table, and has_many schema_columns. Each schema column contains a key value pair of the column's name, and the columns type. 

For each level schema you will need the following in the YML:
	- table_name: string
		- schema_columns
			- column_name: string
			- column_type: string

##Prose Style
In level pages, use the second person and the present tense i.e: "You now know everything there is to know about SELECT. Try it yourself now." For conditional instructions use the future imperative, i.e.: "To make a query of type x you *would* write y"

##User's Character
The user is a hybrid missile commander / database admin. In the world of MISSQL command, nuclear arsenals and city defense systems are managed with relational databases. The user should be assumed to have NO knowledge of SQL or other programming languages. Try to imagine you're explaining SQL to Harry Truman.